program: train.py
project: river-level-analysis-v2
method: bayes
metric:
  name: val_nll
  goal: minimize

parameters:
  sequence_length:
    values: [4, 8, 16, 24, 32, 48, 64, 96, 128, 192]
  
  lr:
    distribution: log_uniform_values
    min: 5e-6
    max: 5e-2

  train_epochs:
    distribution: q_uniform
    q: 5
    min: 5
    max: 150

  weight_decay:
    distribution: log_uniform_values
    min: 1e-6
    max: 1e-1

  batch_size:
    distribution: q_log_uniform_values
    q: 256
    min: 256
    max: 4096

  +model:
    value: 'mlp'

  model.num_layers:
    values: [0, 1, 2, 3, 4, 5]

  model.hidden_size:
    distribution: q_log_uniform_values
    q: 16
    min: 16
    max: 8192

  model.dropout:
    distribution: q_uniform
    q: 0.001
    min: 0.0
    max: 0.5

  model.activation_function:
    values: ["relu", "tanh", "gelu"]

  model.batch_norm:
    values: [true, false]

early_terminate:
  type: hyperband
  eta: 2
  min_iter: 8

command: 
  - D:\code\river-level-analysis\level_prediction_training\venv\Scripts\python.exe
  - ${program}
  - ${args_no_hyphens}
